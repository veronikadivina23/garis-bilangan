<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Media Interaktif Garis Bilangan</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #b3e5fc, #fce4ec);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    h1 {
      color: #333;
      margin-bottom: 8px;
    }
    .subtitle {
      color: #555;
      font-size: 0.95rem;
      margin-bottom: 20px;
    }
    .controls {
      display: flex;
      gap: 10px;
      margin-bottom: 25px;
    }
    input, select, button {
      font-size: 1rem;
      padding: 6px 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background: #4caf50;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background: #43a047;
    }
    .line-container {
      position: relative;
      width: 80%;
      height: 120px;
    }
    .line {
      position: absolute;
      bottom: 40px;
      left: 0;
      right: 0;
      height: 3px;
      background: #333;
    }
    .tick {
      position: absolute;
      width: 2px;
      height: 18px;
      background: #333;
      bottom: 38px;
    }
    .number {
      position: absolute;
      bottom: 10px;
      font-size: 14px;
      transform: translateX(-50%);
      color: #111;
    }
    .jumper {
      position: absolute;
      bottom: 45px;
      width: 25px;
      height: 25px;
      background: gold;
      border-radius: 50%;
      border: 2px solid #555;
      transform: translateX(-50%);
      transition: left 0.6s ease-in-out, bottom 0.3s ease;
    }
    .jump-label {
      position: absolute;
      font-size: 13px;
      color: #000;
      font-weight: bold;
      transform: translate(-50%, -60px);
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    .result {
      font-size: 1.2rem;
      margin-top: 15px;
      color: #222;
      background: rgba(255, 255, 255, 0.6);
      padding: 8px 16px;
      border-radius: 10px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¨ Garis Bilangan Interaktif</h1>
  <div class="subtitle">Mari belajar penjumlahan dan pengurangan bilangan bulat!</div>

  <div class="controls">
    <input type="number" id="num1" placeholder="Bilangan 1" value="5">
    <select id="operator">
      <option value="+">+</option>
      <option value="-">âˆ’</option>
    </select>
    <input type="number" id="num2" placeholder="Bilangan 2" value="3">
    <button onclick="mulai()">Mulai!</button>
  </div>

  <div class="line-container" id="garis"></div>
  <div class="result" id="hasil"></div>

  <script>
    const garis = document.getElementById('garis');
    const hasilText = document.getElementById('hasil');
    const min = -10, max = 10;
    const range = max - min;
    garis.innerHTML = '';

    // Buat garis dan angka
    const line = document.createElement('div');
    line.className = 'line';
    garis.appendChild(line);

    for (let i = min; i <= max; i++) {
      const tick = document.createElement('div');
      tick.className = 'tick';
      tick.style.left = `${((i - min) / range) * 100}%`;
      garis.appendChild(tick);

      const number = document.createElement('div');
      number.className = 'number';
      number.textContent = i;
      number.style.left = tick.style.left;
      garis.appendChild(number);
    }

    // Bola
    const jumper = document.createElement('div');
    jumper.className = 'jumper';
    garis.appendChild(jumper);

    // Animasi langkah
    function mulai() {
      hasilText.textContent = '';
      document.querySelectorAll('.jump-label').forEach(e => e.remove());
      const a = parseInt(document.getElementById('num1').value);
      const b = parseInt(document.getElementById('num2').value);
      const op = document.getElementById('operator').value;

      let hasil = op === '+' ? a + b : a - b;
      hasilText.textContent = `ðŸ“˜ Hasil: ${a} ${op} ${b} = ${hasil}`;

      let posisi = a;
      let langkah = op === '+' ? 1 : -1;
      let i = 0;
      animasiLompat(a);

      const interval = setInterval(() => {
        if (i === Math.abs(b)) {
          clearInterval(interval);
          return;
        }
        posisi += langkah;
        animasiLompat(posisi, i + 1);
        i++;
      }, 700);
    }

    function animasiLompat(nilai, urutan = 0) {
      const persen = ((nilai - min) / range) * 100;
      jumper.style.left = `${persen}%`;
      jumper.style.background = urutan % 2 === 0 ? "#fbc02d" : "#ff7043";
      jumper.style.bottom = "70px";
      setTimeout(() => (jumper.style.bottom = "45px"), 300);

      // Label angka muncul di atas setiap loncatan
      const label = document.createElement('div');
      label.className = 'jump-label';
      label.textContent = nilai;
      label.style.left = `${persen}%`;
      garis.appendChild(label);
      setTimeout(() => (label.style.opacity = 1), 200);
    }
  </script>
</body>
</html>
